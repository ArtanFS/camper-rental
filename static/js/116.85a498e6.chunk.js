"use strict";(self.webpackChunkcampersrent=self.webpackChunkcampersrent||[]).push([[116],{9689:(e,s,t)=>{t.r(s),t.d(s,{default:()=>se});var l=t(5043),a=t(3003),i=t(3728),c=t(475);const n="Catalog_catalog_section__FlTgv",r="Catalog_card_list__T0pmr",o="Catalog_loadmore_btn__CURE-";var d=t(4700);const _="NoCards_card_item__4l1Jx",m="NoCards_card_info_wrap__zTFPr",h="NoCards_card_title__BFFvf",u=t.p+"static/media/nocamp.3f99ffbe445dfb671ced.jpg";var p=t(579);const x=()=>(0,p.jsxs)("li",{className:_,children:[(0,p.jsx)(d.A,{src:u,alt:"No campers found"}),(0,p.jsxs)("div",{className:m,children:[(0,p.jsx)("p",{className:h,children:"Sorry,"}),(0,p.jsx)("p",{className:h,children:"but we currently have no campers"}),(0,p.jsx)("p",{className:h,children:"that match your request"})]})]}),j=e=>{let{campers:s,onClick:t,isLoadMore:l,filtered:a}=e;return(0,p.jsxs)("section",{className:n,children:[(0,p.jsx)("ul",{className:r,children:s.length>0&&s[0]._id?s.map((e=>(0,p.jsx)(c.A,{data:e},e._id))):(0,p.jsx)(x,{})}),s.length>0&&a&&(0,p.jsx)(i.A,{className:o,onClick:t,disabled:!l,children:l?"Load more":"No more campers"})]})};var N=t(3892),f=t(7366);const v=()=>(0,a.d4)(f.Y5);var C=t(8922);const F="FilterEquipment_visually_hidden__QgIi5",y="FilterEquipment_filter_wrapper__PmkzS",g="FilterEquipment_checkbox__fD43b",k="FilterEquipment_filter_item__ZAdtA",L="FilterEquipment_filter_item_add__kCvjy",w="FilterEquipment_filter_icon__gcUhl";var b=t(5385);const A="Label_title__zjKCr",T=e=>{let{className:s,classNameIcon:t,id:l,title:a}=e;return(0,p.jsxs)("label",{htmlFor:l,className:s,children:[(0,p.jsx)(b.A,{className:t,id:l}),(0,p.jsx)("p",{className:A,children:a})]})};var E=t(8139),S=t.n(E);const D=e=>{let{setEquipment:s}=e;return(0,p.jsx)("div",{className:y,children:(0,p.jsxs)("div",{role:"checkbox","aria-checked":!0,className:g,onChange:s,children:[(0,p.jsx)(N.D0,{value:"AC",className:F,type:"checkbox",name:"options",id:"AC"}),(0,p.jsx)(T,{className:k,classNameIcon:w,id:"AC",title:"AC"}),(0,p.jsx)(N.D0,{value:"transmission",className:F,type:"checkbox",name:"options",id:"transmission"}),(0,p.jsx)(T,{className:k,classNameIcon:w,id:"transmission",title:"Automatic"}),(0,p.jsx)(N.D0,{value:"kitchen",className:F,type:"checkbox",name:"options",id:"kitchen"}),(0,p.jsx)(T,{className:k,classNameIcon:w,id:"kitchen",title:"Kitchen"}),(0,p.jsx)(N.D0,{value:"TV",className:F,type:"checkbox",name:"options",id:"TV"}),(0,p.jsx)(T,{className:S()(k,L),classNameIcon:w,id:"TV",title:"TV"}),(0,p.jsx)(N.D0,{value:"shower",className:F,type:"checkbox",name:"options",id:"shower"}),(0,p.jsx)(T,{className:k,classNameIcon:w,id:"shower",title:"Shower/WC"})]})})},I="FilterType_visually_hidden__xl9zD",V="FilterType_filter_wrapper__cfne0",q="FilterType_radio__zgP-q",z="FilterType_filter_item__pZYwq",B="FilterType_filter_icon__70FGB",Y=e=>{let{setType:s}=e;return(0,p.jsx)("div",{className:V,children:(0,p.jsxs)("div",{role:"group",className:q,onChange:s,children:[(0,p.jsx)(N.D0,{value:"panelTruck",className:I,type:"radio",name:"form",id:"van"}),(0,p.jsx)(T,{className:z,classNameIcon:B,id:"van",title:"Van"}),(0,p.jsx)(N.D0,{value:"fullyIntegrated",className:I,type:"radio",name:"form",id:"fully-int"}),(0,p.jsx)(T,{className:z,classNameIcon:B,id:"fully-int",title:"Fully Integrated"}),(0,p.jsx)(N.D0,{value:"alcove",className:I,type:"radio",name:"form",id:"alcove"}),(0,p.jsx)(T,{className:z,classNameIcon:B,id:"alcove",title:"Alcove"})]})})},U="FilterLocation_location_input_wrap__cxc4i",G="FilterLocation_location_input__+CFS9",K="FilterLocation_location_icon__jnVLN",P="FilterLocation_list_wrap__RN7VN",J="FilterLocation_list__YDwUz",M="FilterLocation_list_item__8rn+B",O="FilterLocation_list_item_icon__xCnGJ",R=e=>{let{inputLocation:s,value:t,openList:l,list:a,handleClick:c,onBlur:n}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:U,children:[(0,p.jsx)(N.D0,{type:"text",name:"city",placeholder:"City",className:G,value:t,onChange:s,onBlur:n}),(0,p.jsx)(b.A,{className:K,id:"locate"})]}),l&&(0,p.jsx)("div",{className:P,children:(0,p.jsx)("ul",{className:J,children:a.length>0?a.map((e=>{let{id:s,city:t}=e;return(0,p.jsx)("li",{children:(0,p.jsxs)(i.A,{className:M,onClick:()=>c(t),children:[(0,p.jsx)(b.A,{className:S()(K,O),id:"locate"}),t]})},s)})):(0,p.jsxs)("p",{className:M,children:[(0,p.jsx)(b.A,{className:S()(K,O),id:"nolocate"}),"We don't have campers in this location"]})})})]})},W="Filters_filters_form__eaeEf",Z="Filters_filter_location_title__iwKhG",H="Filters_filters_title__cUl9Y",Q="Filters_filters_type_title__d6uDY",X="Filters_filter_btn__XcIEc",$=()=>{const[e,s]=(0,l.useState)(""),[t,c]=(0,l.useState)([]),[n,r]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[_,m]=(0,l.useState)([]),[h,u]=(0,l.useState)(""),x=(0,a.wA)(),j=v();let f=[...j];(0,l.useEffect)((()=>{let s=[],t=[];for(const e of j){const t=e.location.split(", ");s.push([t[1],t[0]].join(", "))}s=s.filter(((e,s,t)=>t.indexOf(e)===s)).sort(),e?(t=s.filter((s=>s.toLocaleLowerCase().includes(e.toLocaleLowerCase().trim()))),t=t.map(((e,s)=>({id:s+1,city:e}))),c(t),!o&&r(!0)):r(!1)}),[j,e,o]);return(0,p.jsx)(N.l1,{initialValues:{options:[],form:""},onSubmit:()=>{if(0!==j.length){if(e){const s=e.split(", ");f=j.filter((e=>{let{location:t}=e;return-1!==t.toLocaleLowerCase().search(s[0].toLocaleLowerCase())}))}h&&(f=f.filter((e=>{let{form:s}=e;return s===h}))),_.length&&(_.includes("AC")&&(f=f.filter((e=>{let{details:s}=e;return s.airConditioner>0}))),_.includes("transmission")&&(f=f.filter((e=>{let{transmission:s}=e;return"automatic"===s}))),_.includes("kitchen")&&(f=f.filter((e=>{let{details:s}=e;return s.kitchen>0}))),_.includes("TV")&&(f=f.filter((e=>{let{details:s}=e;return s.TV>0}))),_.includes("shower")&&(f=f.filter((e=>{let{details:s}=e;return s.shower>0})))),console.log(f),0===f.length?x((0,C.ph)([{}])):x((0,C.ph)(f))}},children:(0,p.jsxs)(N.lV,{className:W,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:Z,children:"Location"}),(0,p.jsx)(R,{inputLocation:e=>{let{target:t}=e;s(t.value),d(!1)},value:e,openList:n,list:t,handleClick:e=>{s(e),d(!0),r(!1)},onBlur:()=>{setTimeout((()=>r(!1)),150)}})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:H,children:"Filters"}),(0,p.jsx)("h3",{className:Q,children:"Vehicle equipment"}),(0,p.jsx)(D,{setEquipment:e=>{let{target:s}=e;const t=_.indexOf(s.value);if(-1!==t){const e=[..._.slice(0,t),..._.slice(t+1)];m(e)}else{const e=[..._,s.value];m(e)}}})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:Q,children:"Vehicle type"}),(0,p.jsx)(Y,{setType:e=>{let{target:s}=e;u(s.value)}})]}),(0,p.jsx)("div",{children:(0,p.jsx)(i.A,{className:X,type:"submit",children:"Search"})})]})})};var ee=t(13);const se=()=>{const[e,s]=(0,l.useState)(1),[t,i]=(0,l.useState)(!0),c=(0,a.wA)(),n=(0,a.d4)(f.bH),r=v(),o=(0,a.d4)(f.jf);(0,l.useEffect)((()=>{c((0,ee.g)())}),[c]),(0,l.useEffect)((()=>{c((0,ee.s)(e))}),[c,e]),(0,l.useEffect)((()=>{e>r.length/4?i(!1):i(!0)}),[e,r]);const d=o.length>0?o:n,_=!(o.length>0);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)($,{}),(0,p.jsx)(j,{campers:d,onClick:()=>{s((e=>e+1))},isLoadMore:t,filtered:_})]})}}}]);
//# sourceMappingURL=116.85a498e6.chunk.js.map