"use strict";(self.webpackChunkcampersrent=self.webpackChunkcampersrent||[]).push([[667],{537:(e,s,t)=>{t.r(s),t.d(s,{default:()=>H});var l=t(5043),i=t(3003),a=t(3728),c=t(5746);const n="Catalog_catalog_section__FlTgv",r="Catalog_card_list__T0pmr",o="Catalog_loadmore_btn__CURE-";var _=t(579);const d=e=>{let{campers:s,onClick:t,isLoadMore:l,filtered:i}=e;return(0,_.jsxs)("section",{className:n,children:[(0,_.jsx)("ul",{className:r,children:s.length>0&&s.map((e=>(0,_.jsx)(c.A,{data:e},e._id)))}),s.length>0&&i&&(0,_.jsx)(a.A,{className:o,onClick:t,disabled:!l,children:l?"Load more":"No more campers"})]})};var m=t(3892),u=t(7366);const h=()=>(0,i.d4)(u.Y5);var p=t(8922);const x="FilterEquipment_visually_hidden__QgIi5",j="FilterEquipment_filter_wrapper__PmkzS",N="FilterEquipment_checkbox__fD43b",f="FilterEquipment_filter_item__ZAdtA",v="FilterEquipment_filter_item_add__kCvjy",y="FilterEquipment_filter_icon__gcUhl";var C=t(5385);const F="Label_title__zjKCr",g=e=>{let{className:s,classNameIcon:t,id:l,title:i}=e;return(0,_.jsxs)("label",{htmlFor:l,className:s,children:[(0,_.jsx)(C.A,{className:t,id:l}),(0,_.jsx)("p",{className:F,children:i})]})};var k=t(8139),L=t.n(k);const w=e=>{let{setEquipment:s}=e;return(0,_.jsx)("div",{className:j,children:(0,_.jsxs)("div",{role:"checkbox","aria-checked":!0,className:N,onChange:s,children:[(0,_.jsx)(m.D0,{value:"AC",className:x,type:"checkbox",name:"options",id:"AC"}),(0,_.jsx)(g,{className:f,classNameIcon:y,id:"AC",title:"AC"}),(0,_.jsx)(m.D0,{value:"transmission",className:x,type:"checkbox",name:"options",id:"transmission"}),(0,_.jsx)(g,{className:f,classNameIcon:y,id:"transmission",title:"Automatic"}),(0,_.jsx)(m.D0,{value:"kitchen",className:x,type:"checkbox",name:"options",id:"kitchen"}),(0,_.jsx)(g,{className:f,classNameIcon:y,id:"kitchen",title:"Kitchen"}),(0,_.jsx)(m.D0,{value:"TV",className:x,type:"checkbox",name:"options",id:"TV"}),(0,_.jsx)(g,{className:L()(f,v),classNameIcon:y,id:"TV",title:"TV"}),(0,_.jsx)(m.D0,{value:"shower",className:x,type:"checkbox",name:"options",id:"shower"}),(0,_.jsx)(g,{className:f,classNameIcon:y,id:"shower",title:"Shower/WC"})]})})},A="FilterType_visually_hidden__xl9zD",b="FilterType_filter_wrapper__cfne0",T="FilterType_radio__zgP-q",E="FilterType_filter_item__pZYwq",D="FilterType_filter_icon__70FGB",I=e=>{let{setType:s}=e;return(0,_.jsx)("div",{className:b,children:(0,_.jsxs)("div",{role:"group",className:T,onChange:s,children:[(0,_.jsx)(m.D0,{value:"panelTruck",className:A,type:"radio",name:"form",id:"van"}),(0,_.jsx)(g,{className:E,classNameIcon:D,id:"van",title:"Van"}),(0,_.jsx)(m.D0,{value:"fullyIntegrated",className:A,type:"radio",name:"form",id:"fully-int"}),(0,_.jsx)(g,{className:E,classNameIcon:D,id:"fully-int",title:"Fully Integrated"}),(0,_.jsx)(m.D0,{value:"alcove",className:A,type:"radio",name:"form",id:"alcove"}),(0,_.jsx)(g,{className:E,classNameIcon:D,id:"alcove",title:"Alcove"})]})})},S="FilterLocation_location_input_wrap__cxc4i",V="FilterLocation_location_input__+CFS9",q="FilterLocation_location_icon__jnVLN",z="FilterLocation_list_wrap__RN7VN",Y="FilterLocation_list__YDwUz",B="FilterLocation_list_item__8rn+B",U="FilterLocation_list_item_icon__xCnGJ",G=e=>{let{inputLocation:s,value:t,openList:l,list:i,handleClick:c,onBlur:n}=e;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:S,children:[(0,_.jsx)(m.D0,{type:"text",name:"city",placeholder:"City                     p.s. work not correctly",className:V,value:t,onChange:s,onBlur:n}),(0,_.jsx)(C.A,{className:q,id:"locate"})]}),l&&(0,_.jsx)("div",{className:z,children:(0,_.jsx)("ul",{className:Y,children:i.length>0?i.map((e=>{let{id:s,city:t}=e;return(0,_.jsx)("li",{children:(0,_.jsxs)(a.A,{className:B,onClick:()=>c(t),children:[(0,_.jsx)(C.A,{className:L()(q,U),id:"locate"}),t]})},s)})):(0,_.jsxs)("p",{className:B,children:[(0,_.jsx)(C.A,{className:L()(q,U),id:"nolocate"}),"We don't have campers in this location"]})})})]})},K="Filters_filters_form__eaeEf",M="Filters_filter_location_title__iwKhG",O="Filters_filters_title__cUl9Y",P="Filters_filters_type_title__d6uDY",R="Filters_filter_btn__XcIEc",W=()=>{const[e,s]=(0,l.useState)(""),[t,c]=(0,l.useState)([]),[n,r]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),[u,x]=(0,l.useState)([]),[j,N]=(0,l.useState)(""),f=(0,i.wA)(),v=h();let y=[...v];(0,l.useEffect)((()=>{let s=[],t=[];for(const e of v){const t=e.location.split(", ");s.push([t[1],t[0]].join(", "))}s=s.filter(((e,s,t)=>t.indexOf(e)===s)).sort(),e?(t=s.filter((s=>s.toLocaleLowerCase().includes(e.toLocaleLowerCase().trim()))),t=t.map(((e,s)=>({id:s+1,city:e}))),c(t),!o&&r(!0)):r(!1)}),[v,e,o]);return(0,_.jsx)(m.l1,{initialValues:{options:[],form:""},onSubmit:()=>{if(0!==v.length){if(e){const s=e.split(", ");y=v.filter((e=>{let{location:t}=e;return-1!==t.toLocaleLowerCase().search(s[0].toLocaleLowerCase())}))}j&&(y=y.filter((e=>{let{form:s}=e;return s===j}))),u.length&&(u.includes("AC")&&(y=y.filter((e=>{let{details:s}=e;return s.airConditioner>0}))),u.includes("transmission")&&(y=y.filter((e=>{let{transmission:s}=e;return"automatic"===s}))),u.includes("kitchen")&&(y=y.filter((e=>{let{details:s}=e;return s.kitchen>0}))),u.includes("TV")&&(y=y.filter((e=>{let{details:s}=e;return s.TV>0}))),u.includes("shower")&&(y=y.filter((e=>{let{details:s}=e;return s.shower>0})))),f((0,p.ph)(y))}},children:(0,_.jsxs)(m.lV,{className:K,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{className:M,children:"Location"}),(0,_.jsx)(G,{inputLocation:e=>{let{target:t}=e;s(t.value),d(!1)},value:e,openList:n,list:t,handleClick:e=>{s(e),d(!0),r(!1)}})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{className:O,children:"Filters"}),(0,_.jsx)("h3",{className:P,children:"Vehicle equipment"}),(0,_.jsx)(w,{setEquipment:e=>{let{target:s}=e;const t=u.indexOf(s.value);if(-1!==t){const e=[...u.slice(0,t),...u.slice(t+1)];x(e)}else{const e=[...u,s.value];x(e)}}})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("h3",{className:P,children:"Vehicle type"}),(0,_.jsx)(I,{setType:e=>{let{target:s}=e;N(s.value)}})]}),(0,_.jsx)("div",{children:(0,_.jsx)(a.A,{className:R,type:"submit",children:"Search"})})]})})};var Z=t(13);const H=()=>{const[e,s]=(0,l.useState)(1),[t,a]=(0,l.useState)(!0),c=(0,i.wA)(),n=(0,i.d4)(u.bH),r=h(),o=(0,i.d4)(u.jf);(0,l.useEffect)((()=>{c((0,Z.g)())}),[c]),(0,l.useEffect)((()=>{c((0,Z.s)(e))}),[c,e]),(0,l.useEffect)((()=>{e>r.length/4?a(!1):a(!0)}),[e,r]);const m=o.length>0?o:n,p=!(o.length>0);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(W,{}),(0,_.jsx)(d,{campers:m,onClick:()=>{s((e=>e+1))},isLoadMore:t,filtered:p})]})}}}]);
//# sourceMappingURL=667.f8737a7a.chunk.js.map